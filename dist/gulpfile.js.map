{"version":3,"sources":["../gulpfile.js"],"names":["gulp","require","eslint","mocha","istanbul","coveralls","lint","src","pipe","format","failOnError","pretest","includeUntested","hookRequire","test","read","writeReports","dir","reportOpts","reporters","enforceThresholds","thresholds","global","watch","task"],"mappings":";;AAAA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,SAASD,QAAQ,aAAR,CAAf;AACA,IAAME,QAAQF,QAAQ,YAAR,CAAd;AACA,IAAMG,WAAWH,QAAQ,eAAR,CAAjB;AACA,IAAMI,YAAYJ,QAAQ,gBAAR,CAAlB;;AAEA,SAASK,IAAT,GAAgB;AACZ,WAAON,KAAKO,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGN,QADH,EAEFM,IAFE,CAEGN,OAAOO,MAAP,EAFH,EAGFD,IAHE,CAGGN,OAAOQ,WAAP,EAHH,CAAP;AAIH;;AAED,SAASC,OAAT,GAAmB;AACf,WAAOX,KAAKO,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGJ,SAAS,EAAEQ,iBAAiB,IAAnB,EAAT,CADH,EAEFJ,IAFE,CAEGJ,SAASS,WAAT,EAFH,CAAP;AAGH;;AAED,SAASC,IAAT,GAAgB;AACZd,SAAKO,GAAL,CAAS,CAAC,gBAAD,CAAT,EAA6B,EAAEQ,MAAM,KAAR,EAA7B,EACKP,IADL,CACUL,OADV,EAEKK,IAFL,CAEUJ,SAASY,YAAT,CAAsB;AACxBC,aAAK,gBADmB;AAExBC,oBAAY;AACRD,iBAAK;AADG,SAFY;AAKxBE,mBAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,cAAjB,EAAiC,WAAjC;AALa,KAAtB,CAFV,EASKX,IATL,CASUJ,SAASgB,iBAAT,CAA2B,EAAEC,YAAY,EAAEC,QAAQ,CAAV,EAAd,EAA3B,CATV;AAUA,WAAOtB,KAAKO,GAAL,CAAS,yBAAT,EACFC,IADE,CACGH,WADH,CAAP;AAEH;;AAED,SAASkB,KAAT,GAAiB;AACb,WAAOvB,KAAKuB,KAAL,CAAW,CAAC,YAAD,EAAe,YAAf,CAAX,EAAyC,MAAzC,CAAP;AACH;;AAEDvB,KAAKwB,IAAL,CAAU,MAAV,EAAkBlB,IAAlB;AACAN,KAAKwB,IAAL,CAAU,SAAV,EAAqBb,OAArB;AACAX,KAAKwB,IAAL,CAAU,MAAV,EAAkB,CAAC,SAAD,CAAlB,EAA+BV,IAA/B;AACAd,KAAKwB,IAAL,CAAU,OAAV,EAAmBD,KAAnB;;AAEAvB,KAAKwB,IAAL,CAAU,SAAV,EAAqB,CAAC,MAAD,CAArB","file":"gulpfile.js","sourcesContent":["const gulp = require('gulp');\nconst eslint = require('gulp-eslint');\nconst mocha = require('gulp-mocha');\nconst istanbul = require('gulp-istanbul');\nconst coveralls = require('gulp-coveralls');\n\nfunction lint() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(eslint())\n        .pipe(eslint.format())\n        .pipe(eslint.failOnError());\n}\n\nfunction pretest() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(istanbul({ includeUntested: true }))\n        .pipe(istanbul.hookRequire());\n}\n\nfunction test() {\n    gulp.src(['./test/**/*.js'], { read: false })\n        .pipe(mocha())\n        .pipe(istanbul.writeReports({\n            dir: 'test-coverage/',\n            reportOpts: {\n                dir: 'test-coverage/'\n            },\n            reporters: ['lcov', 'text', 'text-summary', 'cobertura']\n        }))\n        .pipe(istanbul.enforceThresholds({ thresholds: { global: 1 } }));\n    return gulp.src('test-coverage/lcov.info')\n        .pipe(coveralls());\n}\n\nfunction watch() {\n    return gulp.watch(['./index.js', './lib/*.js'], 'test');\n}\n\ngulp.task('lint', lint);\ngulp.task('pretest', pretest);\ngulp.task('test', ['pretest'], test);\ngulp.task('watch', watch);\n\ngulp.task('default', ['test']);"]}