{"version":3,"sources":["../gulpfile.js"],"names":["gulp","require","eslint","mocha","istanbul","lint","src","pipe","format","failOnError","pretest","includeUntested","hookRequire","test","read","writeReports","dir","reportOpts","reporters","enforceThresholds","thresholds","global","watch","task"],"mappings":";;AAAA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,SAASD,QAAQ,aAAR,CAAf;AACA,IAAME,QAAQF,QAAQ,YAAR,CAAd;AACA,IAAMG,WAAWH,QAAQ,eAAR,CAAjB;;AAEA,SAASI,IAAT,GAAgB;AACZ,WAAOL,KAAKM,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGL,QADH,EAEFK,IAFE,CAEGL,OAAOM,MAAP,EAFH,EAGFD,IAHE,CAGGL,OAAOO,WAAP,EAHH,CAAP;AAIH;;AAED,SAASC,OAAT,GAAmB;AACf,WAAOV,KAAKM,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGH,SAAS,EAAEO,iBAAiB,IAAnB,EAAT,CADH,EAEFJ,IAFE,CAEGH,SAASQ,WAAT,EAFH,CAAP;AAGH;;AAED,SAASC,IAAT,GAAgB;AACZ,WAAOb,KAAKM,GAAL,CAAS,CAAC,gBAAD,CAAT,EAA6B,EAAEQ,MAAM,KAAR,EAA7B,EACFP,IADE,CACGJ,OADH,EAEFI,IAFE,CAEGH,SAASW,YAAT,CAAsB;AACxBC,aAAK,gBADmB;AAExBC,oBAAY;AACRD,iBAAK;AADG,SAFY;AAKxBE,mBAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,cAAjB,EAAiC,WAAjC;AALa,KAAtB,CAFH,EASFX,IATE,CASGH,SAASe,iBAAT,CAA2B,EAAEC,YAAY,EAAEC,QAAQ,CAAV,EAAd,EAA3B,CATH,CAAP;AAUH;;AAED,SAASC,KAAT,GAAiB;AACb,WAAOtB,KAAKsB,KAAL,CAAW,CAAC,YAAD,EAAe,YAAf,CAAX,EAAyC,MAAzC,CAAP;AACH;;AAEDtB,KAAKuB,IAAL,CAAU,MAAV,EAAkBlB,IAAlB;AACAL,KAAKuB,IAAL,CAAU,SAAV,EAAqBb,OAArB;AACAV,KAAKuB,IAAL,CAAU,MAAV,EAAkB,CAAC,SAAD,CAAlB,EAA+BV,IAA/B;AACAb,KAAKuB,IAAL,CAAU,OAAV,EAAmBD,KAAnB;;AAEAtB,KAAKuB,IAAL,CAAU,SAAV,EAAqB,CAAC,MAAD,CAArB","file":"gulpfile.js","sourcesContent":["const gulp = require('gulp');\nconst eslint = require('gulp-eslint');\nconst mocha = require('gulp-mocha');\nconst istanbul = require('gulp-istanbul');\n\nfunction lint() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(eslint())\n        .pipe(eslint.format())\n        .pipe(eslint.failOnError());\n}\n\nfunction pretest() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(istanbul({ includeUntested: true }))\n        .pipe(istanbul.hookRequire());\n}\n\nfunction test() {\n    return gulp.src(['./test/**/*.js'], { read: false })\n        .pipe(mocha())\n        .pipe(istanbul.writeReports({\n            dir: 'test-coverage/',\n            reportOpts: {\n                dir: 'test-coverage/'\n            },\n            reporters: ['lcov', 'text', 'text-summary', 'cobertura']\n        }))\n        .pipe(istanbul.enforceThresholds({ thresholds: { global: 1 } }));\n}\n\nfunction watch() {\n    return gulp.watch(['./index.js', './lib/*.js'], 'test');\n}\n\ngulp.task('lint', lint);\ngulp.task('pretest', pretest);\ngulp.task('test', ['pretest'], test);\ngulp.task('watch', watch);\n\ngulp.task('default', ['test']);"]}